<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>MyBB Documentation - Help:Unknown location</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta name="author" content="MyBB Group" />
	<meta name="copyright" content="Copyright MyBB Group." />
	<meta name="description" content="The official documentation for MyBB, a free PHP and MySQL based discussion system." />
	<link rel="stylesheet" type="text/css" href="http://mybb.com/assets/screen.css?xmas" />
	<!--[if lt IE 8]>
	<link rel="stylesheet" type="text/css" href="http://mybb.com/assets/screen_ie.css?zz" />
	<![endif]-->

	<script type="text/javascript" src="http://mybb.com/jscripts/prototype.lite.js"></script>
	<script type="text/javascript" src="http://mybb.com/jscripts/general.js"></script>
	<script type="text/javascript" src="http://mybb.com/jscripts/moo.ajax.js"></script>
	<script type="text/javascript" src="http://mybb.com/jscripts/lightbox.js"></script>
	<!--[if lt IE 7]>
	<script defer type="text/javascript" src="http://mybb.com/assets/pngfix.js"></script>
	<![endif]-->
</head>
<body>
	<div id="shadow">
		<div id="container">
			<!--search:no_index-->
			<h1><span class="invisible">MyBB</span></h1>
			<div id="header">
			<a class="link" href="/"></a>
				<div id="search">
					<form action="/search" method="get"><fieldset><label for="search_box"><span id="search_left">&nbsp;</span></label><input type="text" name="query" id="search_box" title="Enter your search keywords" /><input type="submit" value="Search" name="submit-search" id="search_button" /></fieldset></form>
				</div>
				<div id="menu">
				<ul>
					<li class="default"><a href="/">Home</a></li>
					<li class="default"><a href="/about">About</a></li>
					<li class="default"><a href="/features">Features</a></li>
					<li class="default"><a href="/downloads">Downloads</a></li>
					<li class="default"><a href="http://community.mybb.com/">Community Forum</a></li>
					<li class="default"><a href="/get-involved">Get Involved</a></li>
					<li class="default"><a href="http://ideas.mybb.com/">Ideas</a></li>
					<li class="default"><a href="http://mods.mybb.com/">Mods</a></li>
					<li class="active"><a href="http://wiki.mybb.com/">Wiki</a></li>
					<li class="default"><a href="http://blog.mybb.com/">Blog</a></li>

				</ul>
				</div>
			</div>
			
			
			<!--/search:no_index-->
			<div id="content">
				<div id="sidebar">
					<div class="item">
					<div class="sidebar_top"><div class="right"></div></div>
						<h3>Categories</h3>
						<ul>
						
														
						</ul>
					<div class="sidebar_bottom"><div class="right"></div></div>
					</div>
				</div>
				
				<div id="page">
					<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Users_appearing_in_an_.22unknown_location.22"><span class="tocnumber">1</span> <span class="toctext">Users appearing in an "unknown location"</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#The_problem"><span class="tocnumber">1.1</span> <span class="toctext">The problem</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#The_solution"><span class="tocnumber">1.2</span> <span class="toctext">The solution</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Further_reading"><span class="tocnumber">1.3</span> <span class="toctext">Further reading</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>


<p>A number of users have reported that some of their forum users  are being listed as in an "unknown location" on their <a href="http://mybb.github.com/MyBB-Resources/Who_Is_Online.html" title="Who Is Online"> Who's online</a> list.
</p>

<p>It has been determined that this is caused by a bug in some versions of the MultiByte PHP extension, more specifically in the my_substr function.
</p><p>The bug has been fixed in the latest version of the MultiByte so to solve this issue permanently you can simply ask your host to upgrade to the latest version of the extension.
</p><p>If your host is not able to upgrade MyltiByte or if you wish to fix the problem temporarily you can simply open your ./inc/functions_online.php file and find:
</p>
<pre>
$filename = my_substr($split_loc[0], -my_strpos(strrev($split_loc[0]), &quot;/&quot;)); 
</pre>
<p>and replace it with:
</p>
<pre>
$filename = substr($split_loc[0], -my_strpos(strrev($split_loc[0]), &quot;/&quot;)); 
</pre>
<p>Please note, the temporary patch <b>will not</b> be applied to the official MyBB download or considered a bug in MyBB or fixed in any future maintenance release. It is a bug in the MultiByte PHP extension. We strongly encourage our users to keep their servers up-to-date, or otherwise encourage their hosts to keep their servers up-to-date.
</p>

<ul><li><a rel="nofollow" class="external text" href="http://community.mybboard.net/thread-48649-post-342276.html#pid342276">Post by Ryan Gordon containing the above fix.</a>
</li><li><a rel="nofollow" class="external text" href="http://community.mybboard.net/thread-48649-post-342276.html">MyBB general support section sticky on the problem.</a>
</li><li><a rel="nofollow" class="external text" href="http://community.mybboard.net/thread-48520.html">The largest support thread dealing with the issue.</a>
</li></ul>





					
					Last updated on: 2012-06-02 00:00:00 -0700.
				</div>
			</div>
		</div>
		
		<div id="footer">
				<script type="text/javascript" src="http://mybb.com/footer_credit.js"></script>
				<p>Copyright &copy; 2010 MyBB Group. All rights reserved.</p>
				<p><a href="/contact">Contact</a> MyBB Group &mdash; <em>for support with MyBB, visit <a href="/support">support</a></em></p><br />
			</div>
		</div>  
	</div>
	
	<div id="shadow_footer"></div>

	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-11443733-2']);
	  _gaq.push(['_setDomainName', 'none']);
	  _gaq.push(['_setAllowLinker', true]);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
</body>
</html>

